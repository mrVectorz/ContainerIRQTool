# Container IRQ Analysis Web Viewer

## Overview

The `container_analyzer_viewer.html` is an interactive web interface designed to visualize the results from your Container IRQ Tool analysis. It provides a much more user-friendly way to explore large datasets with thousands of IRQs, hundreds of CPUs, and tens of containers.

## Features

### üìä Three-Tab Interface

1. **Summary & Overview Tab**
   - System-wide statistics and health overview
   - IRQ configuration summary with masks
   - NUMA, LLC, and IRQ violation summaries
   - Intelligent recommendations based on analysis results
   - Quick status indicators (color-coded for good/warning/error)

2. **Container Analysis Tab**
   - Grid view of all containers with color-coded status boxes
   - Green = Good, Yellow = Warning, Red = Error
   - **IRQ-aware color coding**: Red/Yellow backgrounds for containers with IRQ violations
   - Clickable containers that expand to show detailed information
   - Search functionality to filter containers by name or ID
   - Detailed view includes:
     - Full container information
     - **Color-coded sections** for NUMA, LLC, and PCI analysis
     - PCI device assignments with **NUMA node information**
     - NUMA alignment status
     - **LLC alignment analysis** (when available)
     - **IRQ violations summary** with expandable CPU-by-CPU details
     - Network namespace validation
     - Specific issues and recommendations

3. **NUMA Topology Tab**
   - Visual representation of NUMA nodes as nested boxes
   - LLC (Last Level Cache) groupings within NUMA nodes
   - Containers and PCI devices positioned in their respective nodes
   - CPU ranges clearly displayed for each node/LLC
   - Easy identification of cross-NUMA issues

### üîç Interactive Features

- **File Upload**: Simple drag-and-drop JSON file loading
- **Real-time Search**: Filter containers by name or ID
- **Expandable Details**: Click containers to see full analysis
- **IRQ Detail Expansion**: Secondary button to show CPU-by-CPU IRQ analysis
- **Color-coded Sections**: Each analysis type (NUMA, LLC, PCI, IRQ) has its own colored background
- **System Configuration Display**: Shows current `/proc/irq/default_smp_affinity` and `/etc/sysconfig/irqbalance` settings
- **Responsive Design**: Works on desktop, tablet, and mobile
- **Color Coding**: Consistent visual indicators throughout
- **Smart Recommendations**: Context-aware suggestions for fixes

## How to Use

### Method 1: Local Web Server (Recommended)

1. Open a terminal in the ContainerIRQTool directory
2. Start a simple web server:
   ```bash
   python3 -m http.server 8000
   ```
3. Open your browser and go to: `http://localhost:8000`
4. Click on `container_analyzer_viewer.html`
5. Upload your `output.json` file using the "Choose JSON File" button

### Method 2: Direct File Opening

1. Double-click the `container_analyzer_viewer.html` file
2. It should open in your default web browser
3. Upload your `output.json` file using the "Choose JSON File" button

## Understanding the Visualizations

### Status Colors

- **üü¢ Green**: All checks passed, optimal configuration
- **üü° Yellow**: Warnings detected, may need attention
- **üî¥ Red**: Errors found, action required

### NUMA Topology View

The topology visualization shows:
- **Outer boxes**: NUMA nodes (gray gradient)
- **Inner boxes**: LLC (Last Level Cache) groups (blue gradient)
- **Small tags**: Containers assigned to each LLC
- **Orange tags**: PCI devices in each NUMA node

### Recommendations Engine

The tool automatically generates actionable recommendations based on:
- NUMA misalignments
- LLC misalignments  
- IRQ violations
- PCI device assignment errors
- Network namespace issues

## Troubleshooting

### File Won't Load
- Ensure your JSON file is valid (generated by the Container IRQ Tool)
- Check browser console for error messages (F12 ‚Üí Console)
- Try refreshing the page and uploading again

### Missing Data
- Some sections may not appear if the analysis didn't include certain checks
- Verify your original analysis included NUMA, LLC, and IRQ checks

### Performance with Large Files
- The interface is optimized for files up to ~50MB
- For extremely large datasets, consider filtering the output before visualization

## Browser Compatibility

- ‚úÖ Chrome/Chromium (Recommended)
- ‚úÖ Firefox
- ‚úÖ Safari
- ‚úÖ Edge
- ‚ùå Internet Explorer (not supported)

## Example Use Cases

1. **Quick Health Check**: Load JSON ‚Üí Check Summary tab for overview
2. **Container Investigation**: Go to Container tab ‚Üí Search for specific container ‚Üí Click to expand details
3. **Topology Analysis**: Visit Topology tab to understand physical layout and identify cross-NUMA issues
4. **Performance Tuning**: Use recommendations to adjust CPU masks and IRQ configurations

## Technical Details

- **Frontend Only**: Pure HTML/CSS/JavaScript, no backend required
- **Client-Side Processing**: All analysis happens in your browser
- **Privacy**: Your data never leaves your machine
- **Lightweight**: Single HTML file with embedded styles and scripts
